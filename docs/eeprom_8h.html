<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>gnea\grbl-Mega: eeprom.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Grbl%20Logo%20250px[1].png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gnea\grbl-Mega
   &#160;<span id="projectnumber">1.0f</span>
   </div>
   <div id="projectbrief">Source Code Documentation ( Internal Workings )</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('eeprom_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">eeprom.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="eeprom_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a234cfa0f6d5f06e60da3567c29176208"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8h.html#a234cfa0f6d5f06e60da3567c29176208">eeprom_get_char</a> (unsigned int addr)</td></tr>
<tr class="memdesc:a234cfa0f6d5f06e60da3567c29176208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read byte from EEPROM.  <a href="#a234cfa0f6d5f06e60da3567c29176208">More...</a><br /></td></tr>
<tr class="separator:a234cfa0f6d5f06e60da3567c29176208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c5d265d6fc85a0ac23222e203ee9157"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8h.html#a0c5d265d6fc85a0ac23222e203ee9157">eeprom_put_char</a> (unsigned int addr, unsigned char new_value)</td></tr>
<tr class="memdesc:a0c5d265d6fc85a0ac23222e203ee9157"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write byte to EEPROM.  <a href="#a0c5d265d6fc85a0ac23222e203ee9157">More...</a><br /></td></tr>
<tr class="separator:a0c5d265d6fc85a0ac23222e203ee9157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b7f2711550c12ae148abc7c9f1cb96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8h.html#a95b7f2711550c12ae148abc7c9f1cb96">memcpy_to_eeprom_with_checksum</a> (unsigned int destination, char *source, unsigned int size)</td></tr>
<tr class="memdesc:a95b7f2711550c12ae148abc7c9f1cb96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extensions added as part of Grbl.  <a href="#a95b7f2711550c12ae148abc7c9f1cb96">More...</a><br /></td></tr>
<tr class="separator:a95b7f2711550c12ae148abc7c9f1cb96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638b3712d0baa822e86dff38e0fabdb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="eeprom_8h.html#a638b3712d0baa822e86dff38e0fabdb2">memcpy_from_eeprom_with_checksum</a> (char *destination, unsigned int source, unsigned int size)</td></tr>
<tr class="separator:a638b3712d0baa822e86dff38e0fabdb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a234cfa0f6d5f06e60da3567c29176208"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char eeprom_get_char </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read byte from EEPROM. </p>
<p>This function reads one byte from a given EEPROM address.</p>
<dl class="section note"><dt>Note</dt><dd>The CPU is halted for 4 clock cycles during EEPROM read.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>EEPROM address to read from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The byte read from the EEPROM address. </dd></dl>
<p>&lt; Wait for completion of previous write.</p>
<p>&lt; Set EEPROM address register.</p>
<p>&lt; Start EEPROM read operation.</p>
<p>&lt; Return the byte read from EEPROM. </p>

<p>Definition at line <a class="el" href="eeprom_8c_source.html#l00049">49</a> of file <a class="el" href="eeprom_8c_source.html">eeprom.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0c5d265d6fc85a0ac23222e203ee9157"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eeprom_put_char </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>new_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write byte to EEPROM. </p>
<p>This function writes one byte to a given EEPROM address. The differences between the existing byte and the new value is used to select the most efficient EEPROM programming mode.</p>
<dl class="section note"><dt>Note</dt><dd>The CPU is halted for 2 clock cycles during EEPROM programming.</dd>
<dd>
When this function returns, the new EEPROM value is not available until the EEPROM programming time has passed. The EEPE bit in EECR should be polled to check whether the programming is finished.</dd>
<dd>
The EEPROM_GetChar() function checks the EEPE bit automatically.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>EEPROM address to write to. </td></tr>
    <tr><td class="paramname">new_value</td><td>New EEPROM value. </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; Old EEPROM value.</p>
<p>&lt; Difference mask, i.e. old value XOR new value.</p>
<p>&lt; Ensure atomic operation for the write operation.</p>
<p>&lt; Wait for completion of previous write.</p>
<p>&lt; Set EEPROM address register.</p>
<p>&lt; Start EEPROM read operation.</p>
<p>&lt; Get old EEPROM value.</p>
<p>&lt; Get bit differences.</p>
<p>&lt; Set EEPROM data register.</p>
<p>&lt; Set Master Write Enable bit...</p>
<p>&lt; ...and Erase+Write mode.</p>
<p>&lt; Start Erase+Write operation.</p>
<p>&lt; Set Master Write Enable bit...</p>
<p>&lt; ...and Erase-only mode.</p>
<p>&lt; Start Erase-only operation.</p>
<p>&lt; Set EEPROM data register.</p>
<p>&lt; Set Master Write Enable bit...</p>
<p>&lt; ...and Write-only mode.</p>
<p>&lt; Start Write-only operation.</p>
<p>&lt; Restore interrupt flag state. </p>

<p>Definition at line <a class="el" href="eeprom_8c_source.html#l00074">74</a> of file <a class="el" href="eeprom_8c_source.html">eeprom.c</a>.</p>

</div>
</div>
<a class="anchor" id="a638b3712d0baa822e86dff38e0fabdb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int memcpy_from_eeprom_with_checksum </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="eeprom_8c_source.html#l00139">139</a> of file <a class="el" href="eeprom_8c_source.html">eeprom.c</a>.</p>

</div>
</div>
<a class="anchor" id="a95b7f2711550c12ae148abc7c9f1cb96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void memcpy_to_eeprom_with_checksum </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extensions added as part of Grbl. </p>

<p>Definition at line <a class="el" href="eeprom_8c_source.html#l00129">129</a> of file <a class="el" href="eeprom_8c_source.html">eeprom.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_16af47fdf13b652490b4f721f0228326.html">grbl</a></li><li class="navelem"><a class="el" href="eeprom_8h.html">eeprom.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
