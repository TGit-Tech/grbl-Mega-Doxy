<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>gnea\grbl-Mega: planner.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Grbl%20Logo%20250px[1].png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gnea\grbl-Mega
   &#160;<span id="projectnumber">1.0f</span>
   </div>
   <div id="projectbrief">Source Code Documentation ( Internal Workings )</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('planner_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">planner.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="planner_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structplan__block__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#structplan__block__t">plan_block_t</a></td></tr>
<tr class="memdesc:structplan__block__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct stores a linear movement of a g-code block motion with its critical "nominal" values.  <a href="planner_8h.html#structplan__block__t">More...</a><br /></td></tr>
<tr class="separator:structplan__block__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structplan__line__data__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#structplan__line__data__t">plan_line_data_t</a></td></tr>
<tr class="memdesc:structplan__line__data__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Planner data prototype. Must be used when passing new motions to the planner.  <a href="planner_8h.html#structplan__line__data__t">More...</a><br /></td></tr>
<tr class="separator:structplan__line__data__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:adaceed7a2609bb443f6933174e838758"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#adaceed7a2609bb443f6933174e838758">BLOCK_BUFFER_SIZE</a>&#160;&#160;&#160;36</td></tr>
<tr class="memdesc:adaceed7a2609bb443f6933174e838758"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of linear motions that can be in the plan at any give time.  <a href="#adaceed7a2609bb443f6933174e838758">More...</a><br /></td></tr>
<tr class="separator:adaceed7a2609bb443f6933174e838758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addfdf449b49c22077b444ffccf8ecd4c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#addfdf449b49c22077b444ffccf8ecd4c">PLAN_OK</a>&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></td></tr>
<tr class="memdesc:addfdf449b49c22077b444ffccf8ecd4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returned status message from planner.  <a href="#addfdf449b49c22077b444ffccf8ecd4c">More...</a><br /></td></tr>
<tr class="separator:addfdf449b49c22077b444ffccf8ecd4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7973023b7f8084394152debcfc8b5764"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#a7973023b7f8084394152debcfc8b5764">PLAN_EMPTY_BLOCK</a>&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:a7973023b7f8084394152debcfc8b5764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf759f17f4bf1a4267e049d881763dd2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#acf759f17f4bf1a4267e049d881763dd2">PL_COND_FLAG_RAPID_MOTION</a>&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(0)</td></tr>
<tr class="memdesc:acf759f17f4bf1a4267e049d881763dd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define planner data condition flags. Used to denote running conditions of a block.  <a href="#acf759f17f4bf1a4267e049d881763dd2">More...</a><br /></td></tr>
<tr class="separator:acf759f17f4bf1a4267e049d881763dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b8aa2caeaecac36e911a9efb05a842"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#ab9b8aa2caeaecac36e911a9efb05a842">PL_COND_FLAG_SYSTEM_MOTION</a>&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(1)</td></tr>
<tr class="memdesc:ab9b8aa2caeaecac36e911a9efb05a842"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single motion. Circumvents planner state. Used by home/park.  <a href="#ab9b8aa2caeaecac36e911a9efb05a842">More...</a><br /></td></tr>
<tr class="separator:ab9b8aa2caeaecac36e911a9efb05a842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbaf1130745fd9be40d78c1c55c3c557"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#adbaf1130745fd9be40d78c1c55c3c557">PL_COND_FLAG_NO_FEED_OVERRIDE</a>&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(2)</td></tr>
<tr class="memdesc:adbaf1130745fd9be40d78c1c55c3c557"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motion does not honor feed override.  <a href="#adbaf1130745fd9be40d78c1c55c3c557">More...</a><br /></td></tr>
<tr class="separator:adbaf1130745fd9be40d78c1c55c3c557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c7d0dcb883354fc4a20355c8e51963"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#a85c7d0dcb883354fc4a20355c8e51963">PL_COND_FLAG_INVERSE_TIME</a>&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(3)</td></tr>
<tr class="memdesc:a85c7d0dcb883354fc4a20355c8e51963"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interprets feed rate value as inverse time when set.  <a href="#a85c7d0dcb883354fc4a20355c8e51963">More...</a><br /></td></tr>
<tr class="separator:a85c7d0dcb883354fc4a20355c8e51963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79a2eb126f6c2c0c48c3dc4135b0772"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#ae79a2eb126f6c2c0c48c3dc4135b0772">PL_COND_FLAG_SPINDLE_CW</a>&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(4)</td></tr>
<tr class="separator:ae79a2eb126f6c2c0c48c3dc4135b0772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaaa4088946005862bebd5bfb6dcd5f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#aaaaa4088946005862bebd5bfb6dcd5f3">PL_COND_FLAG_SPINDLE_CCW</a>&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(5)</td></tr>
<tr class="separator:aaaaa4088946005862bebd5bfb6dcd5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d583fda562f9b2510f4542a5732e472"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#a7d583fda562f9b2510f4542a5732e472">PL_COND_FLAG_COOLANT_FLOOD</a>&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(6)</td></tr>
<tr class="separator:a7d583fda562f9b2510f4542a5732e472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfc3a11ba5b6b57c0a409a71f1bdfb1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#acfc3a11ba5b6b57c0a409a71f1bdfb1f">PL_COND_FLAG_COOLANT_MIST</a>&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(7)</td></tr>
<tr class="separator:acfc3a11ba5b6b57c0a409a71f1bdfb1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87566c76292daa5a887fef8deed5c4e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#a87566c76292daa5a887fef8deed5c4e3">PL_COND_MOTION_MASK</a>&#160;&#160;&#160;(<a class="el" href="planner_8h.html#acf759f17f4bf1a4267e049d881763dd2">PL_COND_FLAG_RAPID_MOTION</a>|<a class="el" href="planner_8h.html#ab9b8aa2caeaecac36e911a9efb05a842">PL_COND_FLAG_SYSTEM_MOTION</a>|<a class="el" href="planner_8h.html#adbaf1130745fd9be40d78c1c55c3c557">PL_COND_FLAG_NO_FEED_OVERRIDE</a>)</td></tr>
<tr class="separator:a87566c76292daa5a887fef8deed5c4e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8154d8ae2ba0104dd5675d4fe356c64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#ab8154d8ae2ba0104dd5675d4fe356c64">PL_COND_ACCESSORY_MASK</a>&#160;&#160;&#160;(<a class="el" href="planner_8h.html#ae79a2eb126f6c2c0c48c3dc4135b0772">PL_COND_FLAG_SPINDLE_CW</a>|<a class="el" href="planner_8h.html#aaaaa4088946005862bebd5bfb6dcd5f3">PL_COND_FLAG_SPINDLE_CCW</a>|<a class="el" href="planner_8h.html#a7d583fda562f9b2510f4542a5732e472">PL_COND_FLAG_COOLANT_FLOOD</a>|<a class="el" href="planner_8h.html#acfc3a11ba5b6b57c0a409a71f1bdfb1f">PL_COND_FLAG_COOLANT_MIST</a>)</td></tr>
<tr class="separator:ab8154d8ae2ba0104dd5675d4fe356c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ada94abdd96ca26313d501f53867b89e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#ada94abdd96ca26313d501f53867b89e1">plan_reset</a> ()</td></tr>
<tr class="memdesc:ada94abdd96ca26313d501f53867b89e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize and reset the motion plan subsystem.  <a href="#ada94abdd96ca26313d501f53867b89e1">More...</a><br /></td></tr>
<tr class="separator:ada94abdd96ca26313d501f53867b89e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455621828590a3de6c69f77c0217b24d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#a455621828590a3de6c69f77c0217b24d">plan_reset_buffer</a> ()</td></tr>
<tr class="memdesc:a455621828590a3de6c69f77c0217b24d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset buffer only.  <a href="#a455621828590a3de6c69f77c0217b24d">More...</a><br /></td></tr>
<tr class="separator:a455621828590a3de6c69f77c0217b24d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca6bec963cb8abe980b0bd77fb70b2ff"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#aca6bec963cb8abe980b0bd77fb70b2ff">plan_buffer_line</a> (float *target, <a class="el" href="planner_8h.html#structplan__line__data__t">plan_line_data_t</a> *<a class="el" href="gcode_8c.html#a6a8a4abb31e881b8b50fe72bd8933073">pl_data</a>)</td></tr>
<tr class="memdesc:aca6bec963cb8abe980b0bd77fb70b2ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new linear movement to the buffer. target[N_AXIS] is the signed, absolute target position.  <a href="#aca6bec963cb8abe980b0bd77fb70b2ff">More...</a><br /></td></tr>
<tr class="separator:aca6bec963cb8abe980b0bd77fb70b2ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e2f887e3c4818d23a617c8d0d25b1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#a11e2f887e3c4818d23a617c8d0d25b1f">plan_discard_current_block</a> ()</td></tr>
<tr class="memdesc:a11e2f887e3c4818d23a617c8d0d25b1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the current block is no longer needed. Discards the block and makes the memory.  <a href="#a11e2f887e3c4818d23a617c8d0d25b1f">More...</a><br /></td></tr>
<tr class="separator:a11e2f887e3c4818d23a617c8d0d25b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693fe53a422f0ea77c219156fc60d5bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="planner_8h.html#structplan__block__t">plan_block_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#a693fe53a422f0ea77c219156fc60d5bd">plan_get_system_motion_block</a> ()</td></tr>
<tr class="memdesc:a693fe53a422f0ea77c219156fc60d5bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the planner block for the special system motion cases. (Parking/Homing)  <a href="#a693fe53a422f0ea77c219156fc60d5bd">More...</a><br /></td></tr>
<tr class="separator:a693fe53a422f0ea77c219156fc60d5bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad73b13c6cb127ad1a00f1ab61179038c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="planner_8h.html#structplan__block__t">plan_block_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#ad73b13c6cb127ad1a00f1ab61179038c">plan_get_current_block</a> ()</td></tr>
<tr class="memdesc:ad73b13c6cb127ad1a00f1ab61179038c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current block. Returns NULL if buffer empty.  <a href="#ad73b13c6cb127ad1a00f1ab61179038c">More...</a><br /></td></tr>
<tr class="separator:ad73b13c6cb127ad1a00f1ab61179038c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea0c9ce0566d9465bd51a9518ee065b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#acea0c9ce0566d9465bd51a9518ee065b">plan_next_block_index</a> (uint8_t block_index)</td></tr>
<tr class="memdesc:acea0c9ce0566d9465bd51a9518ee065b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called periodically by step segment buffer. Mostly used internally by planner.  <a href="#acea0c9ce0566d9465bd51a9518ee065b">More...</a><br /></td></tr>
<tr class="separator:acea0c9ce0566d9465bd51a9518ee065b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d8671e3bec6e1c1081ca96253bd859e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#a9d8671e3bec6e1c1081ca96253bd859e">plan_get_exec_block_exit_speed_sqr</a> ()</td></tr>
<tr class="memdesc:a9d8671e3bec6e1c1081ca96253bd859e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by step segment buffer when computing executing block velocity profile.  <a href="#a9d8671e3bec6e1c1081ca96253bd859e">More...</a><br /></td></tr>
<tr class="separator:a9d8671e3bec6e1c1081ca96253bd859e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41fb2feb96bd8e3a126c8ba42e99ff26"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#a41fb2feb96bd8e3a126c8ba42e99ff26">plan_compute_profile_nominal_speed</a> (<a class="el" href="planner_8h.html#structplan__block__t">plan_block_t</a> *block)</td></tr>
<tr class="memdesc:a41fb2feb96bd8e3a126c8ba42e99ff26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by main program during planner calculations and step segment buffer during initialization.  <a href="#a41fb2feb96bd8e3a126c8ba42e99ff26">More...</a><br /></td></tr>
<tr class="separator:a41fb2feb96bd8e3a126c8ba42e99ff26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ea51302ca691ccb21592cbc49f899d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#ac3ea51302ca691ccb21592cbc49f899d">plan_update_velocity_profile_parameters</a> ()</td></tr>
<tr class="memdesc:ac3ea51302ca691ccb21592cbc49f899d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-calculates buffered motions profile parameters upon a motion-based override change.  <a href="#ac3ea51302ca691ccb21592cbc49f899d">More...</a><br /></td></tr>
<tr class="separator:ac3ea51302ca691ccb21592cbc49f899d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33597329509a0f52f8591650509cdb7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#a33597329509a0f52f8591650509cdb7f">plan_sync_position</a> ()</td></tr>
<tr class="memdesc:a33597329509a0f52f8591650509cdb7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the planner position vector (in steps)  <a href="#a33597329509a0f52f8591650509cdb7f">More...</a><br /></td></tr>
<tr class="separator:a33597329509a0f52f8591650509cdb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1371a85d6d5a5af249ecbe65ceb20d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#aa1371a85d6d5a5af249ecbe65ceb20d5">plan_cycle_reinitialize</a> ()</td></tr>
<tr class="memdesc:aa1371a85d6d5a5af249ecbe65ceb20d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reinitialize plan with a partially completed block.  <a href="#aa1371a85d6d5a5af249ecbe65ceb20d5">More...</a><br /></td></tr>
<tr class="separator:aa1371a85d6d5a5af249ecbe65ceb20d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3411dbe393080d9b3ae84d267229d74"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#ab3411dbe393080d9b3ae84d267229d74">plan_get_block_buffer_available</a> ()</td></tr>
<tr class="memdesc:ab3411dbe393080d9b3ae84d267229d74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of available blocks are in the planner buffer.  <a href="#ab3411dbe393080d9b3ae84d267229d74">More...</a><br /></td></tr>
<tr class="separator:ab3411dbe393080d9b3ae84d267229d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4833ae1fe25002abd406614615117863"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#a4833ae1fe25002abd406614615117863">plan_get_block_buffer_count</a> ()</td></tr>
<tr class="memdesc:a4833ae1fe25002abd406614615117863"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of active blocks are in the planner buffer.  <a href="#a4833ae1fe25002abd406614615117863">More...</a><br /></td></tr>
<tr class="separator:a4833ae1fe25002abd406614615117863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae066f17807564d220e0c9007f6c49f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#adae066f17807564d220e0c9007f6c49f">plan_check_full_buffer</a> ()</td></tr>
<tr class="memdesc:adae066f17807564d220e0c9007f6c49f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the status of the block ring buffer. True, if buffer is full.  <a href="#adae066f17807564d220e0c9007f6c49f">More...</a><br /></td></tr>
<tr class="separator:adae066f17807564d220e0c9007f6c49f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade158197288db138767da82277652e89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="planner_8h.html#ade158197288db138767da82277652e89">plan_get_planner_mpos</a> (float *target)</td></tr>
<tr class="separator:ade158197288db138767da82277652e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structplan__block__t" id="structplan__block__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct plan_block_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>This struct stores a linear movement of a g-code block motion with its critical "nominal" values. </p>

<p>Definition at line <a class="el" href="planner_8h_source.html#l00046">46</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a853e21bbe46eac49801fc9d3f41a4e33"></a>float</td>
<td class="fieldname">
acceleration</td>
<td class="fielddoc">
Axis-limit adjusted line acceleration in (mm/min^2). Does not change. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6b834139be04e26a386ebe0cf924f3b9"></a>uint8_t</td>
<td class="fieldname">
condition</td>
<td class="fielddoc">
Block bitflag variable defining block run conditions. Copied from pl_line_data. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a1c085015bed573ee1f19b5af15483e06"></a>uint8_t</td>
<td class="fieldname">
direction_bits</td>
<td class="fielddoc">
The direction bit set for this block (refers to *_DIRECTION_BIT in <a class="el" href="config_8h.html">config.h</a>) </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9f7c5d3c898c5014644608bb43a65fe1"></a>float</td>
<td class="fieldname">
entry_speed_sqr</td>
<td class="fielddoc">
The current planned entry speed at block junction in (mm/min)^2. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a796796aa32127c826cb28d5db6d779cc"></a>int32_t</td>
<td class="fieldname">
line_number</td>
<td class="fielddoc">
Block line number for real-time reporting. Copied from pl_line_data. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a1e4694ccaecdf9d2d4553042344ecfd9"></a>float</td>
<td class="fieldname">
max_entry_speed_sqr</td>
<td class="fielddoc">
Maximum allowable entry speed based on the minimum of junction limit and. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5deb088bada860c9affa14de7ef16b79"></a>float</td>
<td class="fieldname">
max_junction_speed_sqr</td>
<td class="fielddoc">
NOTE: This value may be altered by stepper algorithm during execution. <p>Junction entry speed limit based on direction vectors in (mm/min)^2 </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="af3c23c2e926e48da1f2121e91bb5dcbf"></a>float</td>
<td class="fieldname">
millimeters</td>
<td class="fielddoc">
The remaining distance for this block to be executed in (mm). </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a42457b43b847f79a133b0aa919548bd8"></a>float</td>
<td class="fieldname">
programmed_rate</td>
<td class="fielddoc">
Programmed rate of this block (mm/min). </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a12dbd16d32a2b0d700856a01654a8788"></a>float</td>
<td class="fieldname">
rapid_rate</td>
<td class="fielddoc">
Axis-limit adjusted maximum rate for this block direction in (mm/min) </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a79c32e695619c38a15153d8976bacdc4"></a>float</td>
<td class="fieldname">
spindle_speed</td>
<td class="fielddoc">
Block spindle speed. Copied from pl_line_data. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="afbdec7c54dfc0dd549aec55e03293765"></a>uint32_t</td>
<td class="fieldname">
step_event_count</td>
<td class="fielddoc">
The maximum step axis count and number of steps required to complete this block. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac99d0186e962055dded753786df8e2d7"></a>uint32_t</td>
<td class="fieldname">
steps[<a class="el" href="nuts__bolts_8h.html#ad05168a527143ab187f87ef4d77ecdce">N_AXIS</a>]</td>
<td class="fielddoc">
NOTE: Used by stepper algorithm to execute the block correctly. Do not alter these values. <p>Step count along each axis </p>
</td></tr>
</table>

</div>
</div>
<a name="structplan__line__data__t" id="structplan__line__data__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct plan_line_data_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Planner data prototype. Must be used when passing new motions to the planner. </p>

<p>Definition at line <a class="el" href="planner_8h_source.html#l00078">78</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ab5c0fa754fe170147f53f4f7fa5f6042"></a>uint8_t</td>
<td class="fieldname">
condition</td>
<td class="fielddoc">
Bitflag variable to indicate planner conditions. See defines above. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae5e2c31d374284f9e6403f340141b3c0"></a>float</td>
<td class="fieldname">
feed_rate</td>
<td class="fielddoc">
Desired feed rate for line motion. Value is ignored, if rapid motion. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aeb80ce4de1deb19e9bf3abe93fbf39b0"></a>int32_t</td>
<td class="fieldname">
line_number</td>
<td class="fielddoc">
Desired line number to report when executing. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9294fa76a81cfe67308e4d4cdb3d9ea4"></a>float</td>
<td class="fieldname">
spindle_speed</td>
<td class="fielddoc">
Desired spindle speed through line motion. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="adaceed7a2609bb443f6933174e838758"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCK_BUFFER_SIZE&#160;&#160;&#160;36</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of linear motions that can be in the plan at any give time. </p>

<p>Definition at line <a class="el" href="planner_8h_source.html#l00027">27</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab8154d8ae2ba0104dd5675d4fe356c64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PL_COND_ACCESSORY_MASK&#160;&#160;&#160;(<a class="el" href="planner_8h.html#ae79a2eb126f6c2c0c48c3dc4135b0772">PL_COND_FLAG_SPINDLE_CW</a>|<a class="el" href="planner_8h.html#aaaaa4088946005862bebd5bfb6dcd5f3">PL_COND_FLAG_SPINDLE_CCW</a>|<a class="el" href="planner_8h.html#a7d583fda562f9b2510f4542a5732e472">PL_COND_FLAG_COOLANT_FLOOD</a>|<a class="el" href="planner_8h.html#acfc3a11ba5b6b57c0a409a71f1bdfb1f">PL_COND_FLAG_COOLANT_MIST</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="planner_8h_source.html#l00042">42</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7d583fda562f9b2510f4542a5732e472"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PL_COND_FLAG_COOLANT_FLOOD&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(6)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="planner_8h_source.html#l00039">39</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="acfc3a11ba5b6b57c0a409a71f1bdfb1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PL_COND_FLAG_COOLANT_MIST&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(7)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="planner_8h_source.html#l00040">40</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="a85c7d0dcb883354fc4a20355c8e51963"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PL_COND_FLAG_INVERSE_TIME&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interprets feed rate value as inverse time when set. </p>

<p>Definition at line <a class="el" href="planner_8h_source.html#l00036">36</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="adbaf1130745fd9be40d78c1c55c3c557"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PL_COND_FLAG_NO_FEED_OVERRIDE&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Motion does not honor feed override. </p>

<p>Definition at line <a class="el" href="planner_8h_source.html#l00035">35</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="acf759f17f4bf1a4267e049d881763dd2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PL_COND_FLAG_RAPID_MOTION&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define planner data condition flags. Used to denote running conditions of a block. </p>

<p>Definition at line <a class="el" href="planner_8h_source.html#l00033">33</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaaaa4088946005862bebd5bfb6dcd5f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PL_COND_FLAG_SPINDLE_CCW&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(5)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="planner_8h_source.html#l00038">38</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae79a2eb126f6c2c0c48c3dc4135b0772"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PL_COND_FLAG_SPINDLE_CW&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="planner_8h_source.html#l00037">37</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab9b8aa2caeaecac36e911a9efb05a842"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PL_COND_FLAG_SYSTEM_MOTION&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a62fe4f31d7cd6087317744dd800a86c3">bit</a>(1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Single motion. Circumvents planner state. Used by home/park. </p>

<p>Definition at line <a class="el" href="planner_8h_source.html#l00034">34</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="a87566c76292daa5a887fef8deed5c4e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PL_COND_MOTION_MASK&#160;&#160;&#160;(<a class="el" href="planner_8h.html#acf759f17f4bf1a4267e049d881763dd2">PL_COND_FLAG_RAPID_MOTION</a>|<a class="el" href="planner_8h.html#ab9b8aa2caeaecac36e911a9efb05a842">PL_COND_FLAG_SYSTEM_MOTION</a>|<a class="el" href="planner_8h.html#adbaf1130745fd9be40d78c1c55c3c557">PL_COND_FLAG_NO_FEED_OVERRIDE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="planner_8h_source.html#l00041">41</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7973023b7f8084394152debcfc8b5764"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLAN_EMPTY_BLOCK&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="planner_8h_source.html#l00031">31</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<a class="anchor" id="addfdf449b49c22077b444ffccf8ecd4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLAN_OK&#160;&#160;&#160;<a class="el" href="nuts__bolts_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returned status message from planner. </p>

<p>Definition at line <a class="el" href="planner_8h_source.html#l00030">30</a> of file <a class="el" href="planner_8h_source.html">planner.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aca6bec963cb8abe980b0bd77fb70b2ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t plan_buffer_line </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="planner_8h.html#structplan__line__data__t">plan_line_data_t</a> *&#160;</td>
          <td class="paramname"><em>pl_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new linear movement to the buffer. target[N_AXIS] is the signed, absolute target position. </p>
<p>Add a new linear movement to the buffer. target[N_AXIS] is the signed, absolute target position.</p>
<p>/ NOTE: Assumes buffer is available. Buffer checks are handled at a higher level by motion_control. In other words, the buffer head is never equal to the buffer tail. Also the feed rate input value is used in three ways: as a normal feed rate if invert_feed_rate is false, as inverse time if invert_feed_rate is true, or as seek/rapids rate if the feed_rate value is negative (and invert_feed_rate always false). The system motion condition tells the planner to plan a motion in the always unused block buffer head. It avoids changing the planner state and preserves the buffer to ensure subsequent gcode motions are still planned correctly, while the stepper module only points to the block buffer head to execute the special system motion. </p>
<p>&lt; Zero all block values.</p>
<p>NOTE: Computes true distance from converted step values.</p>
<p>&lt; Store unit vector numerator</p>
<p>NOTE: This calculation assumes all axes are orthogonal (Cartesian) and works with ABC-axes,</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>Need to check this method handling zero junction speeds when starting from rest. </dd></dl>
<p>&lt; Starting from rest. Enforce start from zero velocity.</p>
<p>NOTE: If the junction deviation value is finite, Grbl executes the motions in an exact path</p>
<p>NOTE: The max junction speed is a fixed value, since machine acceleration limits cannot be</p>
<p>NOTE: Computed without any expensive trig, sin() or acos(), by trig half angle identity of cos(theta).</p>
<p>&lt; Trig half angle identity. Always positive.</p>
<p>&lt; pl.previous_unit_vec[] = unit_vec[]</p>
<p>&lt; pl.position[] = target_steps[] </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00310">310</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="adae066f17807564d220e0c9007f6c49f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t plan_check_full_buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the status of the block ring buffer. True, if buffer is full. </p>
<p>Returns the status of the block ring buffer. True, if buffer is full. </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00246">246</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="a41fb2feb96bd8e3a126c8ba42e99ff26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float plan_compute_profile_nominal_speed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="planner_8h.html#structplan__block__t">plan_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called by main program during planner calculations and step segment buffer during initialization. </p>
<p>Called by main program during planner calculations and step segment buffer during initialization.</p>
<p>NOTE: All system motion commands, such as homing/parking, are not subject to overrides. </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00255">255</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa1371a85d6d5a5af249ecbe65ceb20d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plan_cycle_reinitialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reinitialize plan with a partially completed block. </p>
<p>Reinitialize plan with a partially completed block. </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00509">509</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="a11e2f887e3c4818d23a617c8d0d25b1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plan_discard_current_block </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when the current block is no longer needed. Discards the block and makes the memory. </p>
<p>&lt; Discard non-empty buffer. </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00214">214</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab3411dbe393080d9b3ae84d267229d74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t plan_get_block_buffer_available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of available blocks are in the planner buffer. </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00492">492</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4833ae1fe25002abd406614615117863"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t plan_get_block_buffer_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of active blocks are in the planner buffer. </p>
<p>NOTE: Deprecated. Not used unless classic status reports are enabled in <a class="el" href="config_8h.html">config.h</a> </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00501">501</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad73b13c6cb127ad1a00f1ab61179038c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="planner_8h.html#structplan__block__t">plan_block_t</a>* plan_get_current_block </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current block. Returns NULL if buffer empty. </p>
<p>Gets the current block. Returns NULL if buffer empty. </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00231">231</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9d8671e3bec6e1c1081ca96253bd859e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float plan_get_exec_block_exit_speed_sqr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called by step segment buffer when computing executing block velocity profile. </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00238">238</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="ade158197288db138767da82277652e89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plan_get_planner_mpos </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a693fe53a422f0ea77c219156fc60d5bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="planner_8h.html#structplan__block__t">plan_block_t</a>* plan_get_system_motion_block </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the planner block for the special system motion cases. (Parking/Homing) </p>
<p>Gets the planner block for the special system motion cases. (Parking/Homing) </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00225">225</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="acea0c9ce0566d9465bd51a9518ee065b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t plan_next_block_index </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>block_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called periodically by step segment buffer. Mostly used internally by planner. </p>
<p>Called periodically by step segment buffer. Mostly used internally by planner. </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00042">42</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="ada94abdd96ca26313d501f53867b89e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plan_reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize and reset the motion plan subsystem. </p>
<p>Reset all </p>
<p>&lt; Clear planner struct </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00198">198</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="a455621828590a3de6c69f77c0217b24d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plan_reset_buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset buffer only. </p>
<p>&lt; Empty = tail</p>
<p>&lt; plan_next_block_index(block_buffer_head)</p>
<p>&lt; = block_buffer_tail; </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00205">205</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="a33597329509a0f52f8591650509cdb7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plan_sync_position </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the planner position vector (in steps) </p>
<p>Reset the planner position vector (in steps) </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>For motor configurations not in the same coordinate frame as the machine position, </dd></dl>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00471">471</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac3ea51302ca691ccb21592cbc49f899d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plan_update_velocity_profile_parameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-calculates buffered motions profile parameters upon a motion-based override change. </p>
<p>&lt; Set high for first block nominal speed calculation.</p>
<p>&lt; Update prev nominal speed for next incoming block. </p>

<p>Definition at line <a class="el" href="planner_8c_source.html#l00278">278</a> of file <a class="el" href="planner_8c_source.html">planner.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_16af47fdf13b652490b4f721f0228326.html">grbl</a></li><li class="navelem"><a class="el" href="planner_8h.html">planner.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
